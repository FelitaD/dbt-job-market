version: 2

models:
  - name: stg_urls
    description: one unique url per row
    columns:
      - name: id
        description: the primary key for stg_urls
      - name: cleaned_url
        description: url without the part used when website (ie. welcometothejungle.com) reposts the same job posting
        tests:
          - unique
          - not_null
  - name: stg_titles
    description: title of the job posting without unnecessary information
    columns:
      - name: id
        description: the primary key for stg_titles
      - name: title
        description: the original, raw title
        tests:
          - not_null
      - name: minus_parenthesis
        description: title without any parenthesis (and what's inside)
        tests:
          - not_null
      - name: minus_gender
        description: title without gender that wasn't inside parenthesis
        tests:
          - not_null
  - name: stg_remote_policies
    description: remote policy of job posting
    columns:
      - name: id
        description: the primary key for stg_remote_policies
      - name: remote
        description: the original, raw remote policy
      - name: simplified_remote
        description: remote policy simplified to one word
        tests:
          - accepted_values:
              values: ['total', 'partial', 'ponctual']
  - name: stg_contract_types
    description: contract type of job posting
    columns:
      - name: id
        description: the primary key for stg_contract_types
      - name: contract
        description: the original, raw contract type
      - name: simplified_contract
        description: contract type translated from french to english
        tests:
          - accepted_values:
              values: ['Full Time', 'Graduate program', 'Other', 'Freelance']
  - name: stg_texts
    description: text description of job posting
    columns:
      - name: id
        description: the primary key for stg_texts
      - name: text
        description: the original, raw text description
      - name: cleaned_text
        description: the text with multiple newlines replaced with unique newline
        tests:
          - not_null
